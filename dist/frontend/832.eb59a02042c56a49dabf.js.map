{"version":3,"sources":["./src/app/librarian/lib-register/lib-register.component.ts","./src/app/librarian/lib-register/lib-register.component.html","./src/app/librarian/lib-login/lib-login.component.ts","./src/app/librarian/lib-login/lib-login.component.html","./src/app/librarian/lib-update/lib-update.component.ts","./src/app/librarian/lib-update/lib-update.component.html","./src/app/librarian/librarian-header/librarian-header.component.ts","./src/app/librarian/librarian-header/librarian-header.component.html","./src/app/librarian/librarian-portal/librarian-portal.component.ts","./src/app/librarian/librarian-portal/librarian-portal.component.html","./src/app/librarian/admin-header/admin-header.component.ts","./src/app/librarian/admin-header/admin-header.component.html","./src/app/librarian/lib-routing.module.ts","./src/app/librarian/admin-portal/admin-portal.component.ts","./src/app/librarian/admin-portal/admin-portal.component.html","./src/app/librarian/account-manage/account-manage.component.ts","./src/app/librarian/account-manage/account-manage.component.html","./src/app/librarian/lib-profile/lib-profile.component.ts","./src/app/librarian/lib-profile/lib-profile.component.html","./src/app/librarian/lib.module.ts"],"names":["LibRegisterComponent","logger","router","fb","libAuthService","libRegisterForm","this","group","username","password","confirmPassword","email","role","firstName","lastName","phoneNumber","forms","document","querySelectorAll","Array","prototype","slice","call","forEach","form","addEventListener","event","checkValidity","preventDefault","stopPropagation","classList","add","val","value","register","subscribe","data","warn","window","alert","info","navigateByUrl","libRegister","LibLoginComponent","adminAuthService","tokenStorageService","commonService","libLoginForm","signIn","token_info","saveToken","setSubject","redirectUrl","libLogin","LibUpdateComponent","libUpdateForm","LibrarianHeaderComponent","tokenService","titleName","libName","usernameUpdate","libID","getLibID","signOut","clearToken","logout","LibrarianPortalComponent","getUsername","AdminHeaderComponent","adminName","libRoutes","path","children","component","canActivate","AdminPortalComponent","AccountManageComponent","libDelete","confirm","deleteLink","target","parentElement","querySelector","innerHTML","deleteLib","console","log","style","visibility","adminList","libList","getAllAdmin","length","concat","adminBlock","item","rowDiv","createElement","className","appendChild","colDiv1","p1","_id","colDiv2","p2","colDiv3","p3","registerDate","toLocaleString","colDiv4","p4","isActive","colDiv5","a1","href","colDiv6","a2","toLowerCase","colDiv7","a3","bind","getAllLib","libBlock","deleteLinks","i","replaceWith","cloneNode","LibProfileComponent","redirectTo","pathMatch","LibRoutingModule","LibModule"],"mappings":"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","file":"832.eb59a02042c56a49dabf.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NGXLogger } from 'ngx-logger';\n\nimport { RegisterLibDto } from '../../common/lib.dto';\nimport { LibrarianAuthService } from '../../auth/librarian-auth.service';\n\n@Component({\n  selector: 'app-lib-register',\n  templateUrl: './lib-register.component.html',\n  styleUrls: ['./lib-register.component.css']\n})\nexport class LibRegisterComponent implements OnInit {\n\n  constructor(\n    private logger: NGXLogger,\n    private router: Router,\n    private fb: FormBuilder,\n    private libAuthService: LibrarianAuthService,\n  ) { }\n\n  libRegisterForm = this.fb.group({\n    username: ['', [Validators.minLength(3), Validators.pattern('[a-zA-Z0-9_]*')]],\n    password: ['', Validators.minLength(5)],\n    confirmPassword: ['', Validators.minLength(5)],\n    email: ['', [Validators.email, Validators.required]],\n    role: ['', Validators.required],\n    firstName: [''],\n    lastName: [''],\n    phoneNumber: [''],\n  });\n\n  ngOnInit(): void {\n    // Disable form submissions if there are invalid fields\n    (function () {\n      // Fetch all forms we want to apply custom validation styles to\n      var forms = document.querySelectorAll('.needs-validation')\n\n      // Loop over them and prevent submission\n      Array.prototype.slice.call(forms)\n        .forEach(function (form) {\n          form.addEventListener('submit', function (event) {\n            if (!form.checkValidity()) {\n              event.preventDefault()\n              event.stopPropagation()\n            }\n            form.classList.add('was-validated')\n          }, false)\n        })\n    })()\n  }\n\n  libRegister() {\n    const val: RegisterLibDto = this.libRegisterForm.value;\n    if (val.confirmPassword === val.password) {\n      this.libAuthService.register(val).subscribe((data) => {\n        if (!data) {\n          this.logger.warn(`Username ${val.username} exists, register lib failed`)\n          window.alert('The username already exist, please choose another one.');\n          return null;\n        }\n        this.logger.info(`${val.role} ${data.username} already successfully registered in system.`);\n        window.alert(`Success registered ${val.role} ${val.username}`)\n        this.router.navigateByUrl('/lib/admin-portal');\n      })\n    } else {\n      window.alert('Passwords are not matched, please check')\n    }\n  }\n\n}\n","<div class=\"register text-center\">\n  <div class=\"logo-img\">\n    <img class=\"mb-4\" src=\"/assets/media/pic/library_logo.png\">\n  </div>\n  <h2 class=\"register-heading\">Librarian/Admin Registration Form</h2>\n  <form class=\"needs-validation\" [formGroup]=\"libRegisterForm\" (ngSubmit)=\"libRegisterForm.valid&&libRegister()\" novalidate>\n    <div class=\"row register-form\">\n      <div class=\"col-md-6\">\n        <div class=\"form-group\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"Username *\" formControlName=\"username\" required minlength=\"3\" />\n          <div class=\"invalid-feedback\">\n            Username must have 3 chars or more, start with letter/number/'_'\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <input type=\"password\" class=\"form-control\" placeholder=\"Password *\" formControlName=\"password\" \n            required minlength=\"5\" />\n          <div class=\"invalid-feedback\">\n            Password length must be 5 or longer.\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <input type=\"password\" class=\"form-control\" placeholder=\"Confirm Password *\" formControlName=\"confirmPassword\" required minlength=\"5\" />\n        </div>\n        <div class=\"form-group\">\n          <select class=\"form-control\" formControlName=\"role\" required>\n            <option value=\"\" class=\"hidden\" selected disabled>Please select role *</option>\n            <option>Librarian</option>\n            <option>Admin</option>\n          </select>\n          <div class=\"invalid-feedback\">\n            Please select role input.\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6\">\n        <div class=\"form-group\">\n          <input type=\"email\" class=\"form-control\" placeholder=\"Your Email *\" formControlName=\"email\" value=\"\" required />\n          <div class=\"invalid-feedback\">\n            Please provide valid email address.\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"First Name\" formControlName=\"firstName\" />\n        </div>\n        <div class=\"form-group\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"Last Name\" formControlName=\"lastName\" />\n        </div>\n        <div class=\"form-group\">\n          <input type=\"text\" formControlName=\"phoneNumber\" class=\"form-control\" placeholder=\"Phone Number\"/>\n        </div>\n\n        <input type=\"submit\" class=\"btnRegister\" value=\"Register\" />\n        <div class=\"home-link\">\n          <a href=\"/lib/admin-portal\">Return Admin Portal</a>\n        </div>\n\n      </div>\n    </div>\n  </form>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NGXLogger } from 'ngx-logger';\n\nimport { LibrarianAuthService } from '../../auth/librarian-auth.service';\nimport { TokenStorageService } from '../../auth/token-storage.service';\nimport { AccessToken } from '../../common/lib.dto';\nimport { CommonService } from '../../common/common.service';\nimport { AdminAuthService } from '../../auth/admin-auth.service';\n\n@Component({\n  selector: 'app-librarian-login',\n  templateUrl: './lib-login.component.html',\n  styleUrls: ['./lib-login.component.css']\n})\nexport class LibLoginComponent implements OnInit {\n\n  constructor(\n    private fb: FormBuilder,\n    private router: Router,\n    private libAuthService: LibrarianAuthService,\n    private adminAuthService: AdminAuthService,\n    private tokenStorageService: TokenStorageService,\n    private commonService: CommonService,\n    private logger: NGXLogger,\n  ) { }\n\n  libLoginForm = this.fb.group({\n    username: ['', Validators.required],\n    password: ['', Validators.required],\n    role: ['Librarian', Validators.required],\n  })\n\n  ngOnInit(): void {\n  }\n\n  libLogin() {\n    const val = this.libLoginForm.value;\n    if (val.username && val.password) {\n      if (val.role === 'Librarian') {\n        this.libAuthService.signIn(val.username, val.password)\n          .subscribe((data: AccessToken) => {\n            if (data && data.token_info) {\n              const access_token = data.token_info ? data.token_info : '';\n              this.logger.info(`Librarian ${val.username} success logged in.`);\n              this.tokenStorageService.saveToken(data, `$L_${val.username}`);\n              this.commonService.setSubject(val.username);\n              if (this.libAuthService.redirectUrl) {\n                this.router.navigateByUrl(this.libAuthService.redirectUrl);\n              } else {\n                this.router.navigateByUrl('/lib/lib-portal');\n              }\n            } else {\n              this.logger.warn('Role mismatch, librarian login failed.');\n              window.alert(`User does not have librarian authentication, login failed`);\n            }\n          })\n      } else if (val.role === 'Admin') {\n        this.adminAuthService.signIn(val.username, val.password)\n          .subscribe((data: AccessToken) => {\n            if (data && data.token_info) {\n              const access_token = data.token_info ? data.token_info : '';\n              this.logger.info(`Admin ${val.username} success logged in.`);\n              this.tokenStorageService.saveToken(data, `$A_${val.username}`);\n              this.commonService.setSubject(val.username);\n              if (this.adminAuthService.redirectUrl) {\n                this.router.navigateByUrl(this.adminAuthService.redirectUrl);\n              } else {\n                this.router.navigateByUrl('/lib/admin-portal');\n              }\n            } else {\n              this.logger.warn('Role mismatch, admin login failed.');\n              window.alert(`User does not have admin authentication, login failed`);\n            }\n          })\n      }\n    }\n  }\n}\n","<main class=\"form-signin\">\n  <form [formGroup]=\"libLoginForm\" (ngSubmit)=\"libLogin()\">\n    <img class=\"mb-4\" src=\"/assets/media/pic/library_logo.png\" alt=\"\" width=\"120\" height=\"120\">\n    <h1 class=\"h3 mb-3 fw-normal\">Lib/Admin Sign In</h1>\n\n    <div class=\"form-floating\">\n      <input type=\"text\" class=\"form-control\" id=\"floatingInput\" formControlName=\"username\" placeholder=\"User Name\">\n      <label for=\"floatingInput\">User Name</label>\n    </div>\n    <div class=\"form-floating\">\n      <input type=\"password\" class=\"form-control\" id=\"floatingPassword\" formControlName=\"password\"\n        placeholder=\"Password\">\n      <label for=\"floatingPassword\">Password</label>\n    </div>\n    <div class=\"form-floating\">\n      <select class=\"form-select\" id=\"roleSelect\" aria-label=\"Role\" formControlName=\"role\">\n        <option selected value=\"Librarian\">Librarian</option>\n        <option value=\"Admin\">Admin</option>\n      </select>\n      <label for=\"floatingSelect\">Role</label>\n    </div>\n\n    <div class=\"checkbox mb-3\">\n      <label>\n        <input type=\"checkbox\" value=\"remember-me\"> Remember me\n      </label>\n    </div>\n    <button class=\"w-100 btn btn-lg btn-primary\" type=\"submit\" [disabled]=\"!libLoginForm.valid\">Sign in</button>\n  </form>\n</main>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NGXLogger } from 'ngx-logger';\nimport { LibrarianAuthService } from 'src/app/auth/librarian-auth.service';\n\n@Component({\n  selector: 'app-lib-update',\n  templateUrl: './lib-update.component.html',\n  styleUrls: ['./lib-update.component.css']\n})\nexport class LibUpdateComponent implements OnInit {\n\n  constructor(\n    private logger: NGXLogger,\n    private router: Router,\n    private libAuthService: LibrarianAuthService,\n    private fb: FormBuilder,\n  ) { }\n\n  libUpdateForm = this.fb.group({\n    \n  })\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>lib-update works!</p>\n","import { Component, OnInit } from '@angular/core';\nimport { NGXLogger } from 'ngx-logger';\nimport { Router } from '@angular/router';\n\nimport { CommonService } from 'src/app/common/common.service';\nimport { LibrarianAuthService } from 'src/app/auth/librarian-auth.service';\nimport { TokenStorageService } from 'src/app/auth/token-storage.service';\n\n@Component({\n  selector: 'app-librarian-header',\n  templateUrl: './librarian-header.component.html',\n  styleUrls: ['./librarian-header.component.css']\n})\nexport class LibrarianHeaderComponent implements OnInit {\n\n  titleName: string = 'Anlu Biblio';\n\n  libName: string = 'Librarian';\n\n  constructor(\n    private commonService: CommonService,\n    private tokenService: TokenStorageService,\n    private libAuthService: LibrarianAuthService,\n    private logger: NGXLogger,\n    private router: Router,\n  ) { }\n\n  ngOnInit(): void {\n    this.commonService.usernameUpdate.subscribe((username) => {\n      this.libName = username;\n    });\n  }\n\n  logout() {\n    const libID = this.libAuthService.getLibID();\n    this.libAuthService.signOut().subscribe((data) => {\n      if (data == libID) {\n        this.tokenService.clearToken();\n        this.logger.info(`Current librarian ${data} has logged out.`);\n        this.router.navigateByUrl('/lib/login');\n      } else {\n        this.logger.warn(`Something happen in server, librarian logout failed`);\n        window.alert('Logout failed, please try again later');\n      }\n    });\n  }\n\n}\n","<div id=\"lib-header\">\n  <nav class=\"navbar navbar-expand-lg sticky-top navbar-dark bg-dark\" aria-label=\"Main navigation\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"/\">{{titleName}}</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" aria-label=\"Toggle navigation\" data-bs-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n  \n      <div class=\"navbar-collapse collapse\" id=\"navbarCollapse\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\" aria-current=\"page\" href=\"/lib/lib-portal\">Librarian Dashboard</a>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"/book\" id=\"dropdown01\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Manage Book</a>\n            <ul class=\"dropdown-menu\" aria-labelledby=\"dropdown01\">\n              <li><a class=\"dropdown-item\" href=\"/book/dashboard\">Dashboard</a></li>\n              <li><a class=\"dropdown-item\" href=\"/book/register\">Register Book</a></li>\n              <li><a class=\"dropdown-item\" href=\"/book/update\">Update Book Info</a></li>\n            </ul>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"/workshop\" id=\"dropdown02\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Manage Workshop</a>\n            <ul class=\"dropdown-menu\" aria-labelledby=\"dropdown02\">\n              <li><a class=\"dropdown-item\" href=\"/workshop\">Summary</a></li>\n              <li><a class=\"dropdown-item\" href=\"/workshop/create\">Create Workshop</a></li>\n              <li><a class=\"dropdown-item\" href=\"/workshop/update\">Update Workshop</a></li>\n            </ul>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"/blog\" id=\"dropdown03\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Manage Blog</a>\n            <ul class=\"dropdown-menu\" aria-labelledby=\"dropdown03\">\n              <li><a class=\"dropdown-item\" href=\"/blog\">Summary</a></li>\n              <li><a class=\"dropdown-item\" href=\"/blog/create\">Create Blog</a></li>\n              <li><a class=\"dropdown-item\" href=\"/blog/update\">Update Blog</a></li>\n            </ul>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" (click)=\"logout()\">Logout</a>\n          </li>\n        </ul>\n        <form class=\"d-flex\">\n          <label class=\"label_welcome\">Welcome! {{libName}}</label>\n          <input class=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n          <button class=\"btn btn-outline-success\" type=\"submit\">Search</button>\n        </form>\n      </div>\n    </div>\n  </nav>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\nimport { TokenStorageService } from 'src/app/auth/token-storage.service';\nimport { CommonService } from 'src/app/common/common.service';\n\n@Component({\n  selector: 'app-librarian-portal',\n  templateUrl: './librarian-portal.component.html',\n  styleUrls: ['./librarian-portal.component.css']\n})\nexport class LibrarianPortalComponent implements OnInit {\n\n  constructor(\n    private tokenService: TokenStorageService,\n    private commonService: CommonService,\n  ) { }\n\n  ngOnInit(): void {\n    const libName = this.tokenService.getUsername().slice(3,);\n    if (libName) {\n      this.commonService.setSubject(libName);\n    }\n  }\n\n}\n","<app-librarian-header></app-librarian-header>\n\n<div class=\"lib-portal container-fluid\">\n  <div class=\"row overflow-hidden\">\n    <div class=\"pt-1 pt-md-3 col-md-6\">\n      <div class=\"area-block mx-1 mx-md-3 p-3 p-md-5 bg-light\">\n        <h2 class=\"title\">Book Inventory & Summary</h2>\n        <UL>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 1........</a>\n          </li>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 2........</a>\n          </li>\n        </UL>\n      </div>\n    </div>\n\n    <div class=\"pt-1 pt-md-3 col-md-6\">\n      <div class=\"area-block mx-1 mx-md-3 p-3 p-md-5 bg-light\">\n        <h2 class=\"title\">Reader Summary & Analysis</h2>\n        <UL>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 1........</a>\n          </li>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 2........</a>\n          </li>\n        </UL>\n      </div>\n    </div>\n\n    <div class=\"pt-1 pt-md-3 col-md-6\">\n      <div class=\"area-block mx-1 mx-md-3 p-3 p-md-5 bg-light\">\n        <h2 class=\"title\">Top 10 Books (popular score)</h2>\n        <UL>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 1........</a>\n          </li>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 2........</a>\n          </li>\n        </UL>\n      </div>\n    </div>\n\n    <div class=\"pt-1 pt-md-3 col-md-6\">\n      <div class=\"area-block mx-1 mx-md-3 p-3 p-md-5 bg-light\">\n        <h2 class=\"title\">Top 10 Readers (read score)</h2>\n        <UL>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 1........</a>\n          </li>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 2........</a>\n          </li>\n        </UL>\n      </div>\n    </div>\n  </div>\n</div>\n\n<app-site-footer></app-site-footer>","import { Component, OnInit } from '@angular/core';\nimport { NGXLogger } from 'ngx-logger';\nimport { Router } from '@angular/router';\n\nimport { CommonService } from '../../common/common.service';\nimport { LibrarianAuthService } from '../../auth/librarian-auth.service';\nimport { TokenStorageService } from '../../auth/token-storage.service';\n\n\n@Component({\n  selector: 'app-admin-header',\n  templateUrl: './admin-header.component.html',\n  styleUrls: ['./admin-header.component.css']\n})\nexport class AdminHeaderComponent implements OnInit {\n\n  titleName = 'Anlu Biblio';\n\n  adminName = 'Admin';\n\n  constructor(\n    private commonService: CommonService,\n    private logger: NGXLogger,\n    private libAuthService: LibrarianAuthService,\n    private tokenService: TokenStorageService,\n    private router: Router,\n  ) { }\n\n  ngOnInit(): void {\n    this.commonService.usernameUpdate.subscribe((username) => {\n      this.adminName = username;\n    });\n  }\n\n  logout() {\n    const libID = this.libAuthService.getLibID();\n    this.libAuthService.signOut().subscribe((data) => {\n      if (data == libID) {\n        this.tokenService.clearToken();\n        this.logger.info(`Current admin ${data} has logged out.`);\n        this.router.navigateByUrl('/lib/login');\n      } else {\n        this.logger.warn(`Something happen in server, admin logout failed`);\n        window.alert('Logout failed, please try again later');\n      }\n    });\n  }\n\n}\n","<div id=\"lib-header\">\n  <nav class=\"navbar navbar-expand-lg sticky-top navbar-dark bg-dark\" aria-label=\"Main navigation\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"/\">{{titleName}}</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" aria-label=\"Toggle navigation\" data-bs-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n  \n      <div class=\"navbar-collapse collapse\" id=\"navbarCollapse\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\" aria-current=\"page\" href=\"/lib/lib-portal\">Admin Dashboard</a>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"/book\" id=\"dropdown01\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Manage Account</a>\n            <ul class=\"dropdown-menu\" aria-labelledby=\"dropdown01\">\n              <li><a class=\"dropdown-item\" href=\"/lib/register\">Register Lib/Admin</a></li>\n              <li><a class=\"dropdown-item\" href=\"/lib/account-manage\">Manage Lib/Admin</a></li>\n              <li><a class=\"dropdown-item\" href=\"/reader/account-manage\">Manage Reader</a></li>\n            </ul>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"/book\" id=\"dropdown02\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Manage Inventory</a>\n            <ul class=\"dropdown-menu\" aria-labelledby=\"dropdown02\">\n              <li><a class=\"dropdown-item\" href=\"/book/dashboard\">Book Dashboard</a></li>\n              <li><a class=\"dropdown-item\" href=\"/book/register\">Register Book</a></li>\n              <li><a class=\"dropdown-item\" href=\"/book/update\">Update Book</a></li>\n            </ul>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"/operationlog\" id=\"dropdown03\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Manage Log</a>\n            <ul class=\"dropdown-menu\" aria-labelledby=\"dropdown03\">\n              <li><a class=\"dropdown-item\" href=\"/operationlog/review\">Operation Log Review</a></li>\n              <li><a class=\"dropdown-item\" href=\"/operationlog\">Log Setting</a></li>\n            </ul>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" (click)=\"logout()\">Logout</a>\n          </li>\n        </ul>\n        <form class=\"d-flex\">\n          <label class=\"label_welcome\">Welcome! {{adminName}}</label>\n          <input class=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n          <button class=\"btn btn-outline-success\" type=\"submit\">Search</button>\n        </form>\n      </div>\n    </div>\n  </nav>\n</div>\n\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { LibAuthGuard } from '../auth/lib-auth.guard';\nimport { LibRegisterComponent } from './lib-register/lib-register.component';\nimport { LibLoginComponent } from './lib-login/lib-login.component';\nimport { LibUpdateComponent } from './lib-update/lib-update.component';\nimport { AdminAuthGuard } from '../auth/admin-auth.guard';\nimport { LibrarianPortalComponent } from './librarian-portal/librarian-portal.component';\nimport { AdminPortalComponent } from './admin-portal/admin-portal.component';\nimport { AccountManageComponent } from './account-manage/account-manage.component';\nimport { LibProfileComponent } from './lib-profile/lib-profile.component';\n\nconst libRoutes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: 'login',\n        component: LibLoginComponent,\n      },\n      {\n        path: 'register',\n        canActivate: [AdminAuthGuard],\n        component: LibRegisterComponent,\n      },\n      {\n        path: 'update/:id',\n        canActivate: [AdminAuthGuard],\n        component: LibUpdateComponent,\n      },\n      {\n        path: 'admin-portal',\n        canActivate: [AdminAuthGuard],\n        component: AdminPortalComponent,\n      },\n      {\n        path: 'lib-portal',\n        canActivate: [LibAuthGuard],\n        component: LibrarianPortalComponent,\n      },\n      {\n        path: 'account-manage',\n        canActivate: [AdminAuthGuard],\n        component: AccountManageComponent,\n      },\n      {\n        path: 'profile/:id',\n        canActivate: [AdminAuthGuard],\n        component: LibProfileComponent,\n      },\n      {\n        path: '',\n        redirectTo: 'lib-portal',\n        pathMatch: 'full',\n      },\n    ]\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(libRoutes)],\n  exports: [RouterModule]\n})\n\nexport class LibRoutingModule { }\n\n\n","import { Component, OnInit } from '@angular/core';\n\nimport { TokenStorageService } from 'src/app/auth/token-storage.service';\nimport { CommonService } from 'src/app/common/common.service';\n\n@Component({\n  selector: 'app-admin-portal',\n  templateUrl: './admin-portal.component.html',\n  styleUrls: ['./admin-portal.component.css']\n})\nexport class AdminPortalComponent implements OnInit {\n\n  constructor(\n    private commonService: CommonService,\n    private tokenService: TokenStorageService,\n  ) { }\n\n  ngOnInit(): void {\n    const adminName = this.tokenService.getUsername().slice(3,);\n    if (adminName) {\n      this.commonService.setSubject(adminName);\n    }\n  }\n\n}\n","<app-admin-header></app-admin-header>\n\n<div class=\"lib-portal container-fluid\">\n  <div class=\"row overflow-hidden\">\n    <div class=\"pt-1 pt-md-3 col-md-6\">\n      <div class=\"area-block mx-1 mx-md-3 p-3 p-md-5 bg-light\">\n        <h2 class=\"title\">Book Inventory & Summary</h2>\n        <UL>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 1........</a>\n          </li>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 2........</a>\n          </li>\n        </UL>\n      </div>\n    </div>\n\n    <div class=\"pt-1 pt-md-3 col-md-6\">\n      <div class=\"area-block mx-1 mx-md-3 p-3 p-md-5 bg-light\">\n        <h2 class=\"title\">Reader Summary & Analysis</h2>\n        <UL>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 1........</a>\n          </li>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 2........</a>\n          </li>\n        </UL>\n      </div>\n    </div>\n\n    <div class=\"pt-1 pt-md-3 col-md-6\">\n      <div class=\"area-block mx-1 mx-md-3 p-3 p-md-5 bg-light\">\n        <h2 class=\"title\">Top 10 Books (popular score)</h2>\n        <UL>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 1........</a>\n          </li>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 2........</a>\n          </li>\n        </UL>\n      </div>\n    </div>\n\n    <div class=\"pt-1 pt-md-3 col-md-6\">\n      <div class=\"area-block mx-1 mx-md-3 p-3 p-md-5 bg-light\">\n        <h2 class=\"title\">Top 10 Readers (read score)</h2>\n        <UL>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 1........</a>\n          </li>\n          <li class=\"blog-item\">\n            <a class=\"blog-link\" href=\"#\">Item 2........</a>\n          </li>\n        </UL>\n      </div>\n    </div>\n  </div>\n</div>\n\n<app-site-footer></app-site-footer>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { NGXLogger } from 'ngx-logger';\n\nimport { LibrarianAuthService } from 'src/app/auth/librarian-auth.service';\nimport { TokenStorageService } from 'src/app/auth/token-storage.service';\nimport { Librarian } from '../../common/lib.dto';\n\n@Component({\n  selector: 'app-account-manage',\n  templateUrl: './account-manage.component.html',\n  styleUrls: ['./account-manage.component.css']\n})\nexport class AccountManageComponent implements OnInit, OnDestroy {\n\n  constructor(\n    private libAuthService: LibrarianAuthService,\n    private logger: NGXLogger,\n    private tokenService: TokenStorageService,\n  ) { }\n\n  ngOnInit() {\n    //Get the admin list from database, otherwise set with empty array\n    let adminList: Librarian[];\n    let libList: Librarian[];\n    let adminName = this.tokenService.getUsername().slice(3,);\n    this.libAuthService.getAllAdmin().subscribe((data: []) => {\n      if (data && data.length > 0) {\n        adminList = [].concat(data);\n\n        const adminBlock = document.querySelector('div.admin-block');\n        if (adminBlock) {\n          for (const item of adminList) {\n            //Add new line for this admin user\n            let rowDiv = document.createElement('div');\n            rowDiv.className = 'row';\n            adminBlock.appendChild(rowDiv);\n\n            //Add admin user id field\n            let colDiv1 = document.createElement('div');\n            colDiv1.className = 'col-md-2';\n            let p1 = document.createElement('p');\n            p1.className = 'col-content';\n            p1.innerHTML = item._id;\n            colDiv1.appendChild(p1);\n            rowDiv.appendChild(colDiv1);\n\n            //Add admin username field\n            let colDiv2 = document.createElement('div');\n            colDiv2.className = 'col-md-2';\n            let p2 = document.createElement('p');\n            p2.className = 'col-content';\n            p2.innerHTML = item.username;\n            colDiv2.appendChild(p2);\n            rowDiv.appendChild(colDiv2);\n\n            //Add admin user create date field\n            let colDiv3 = document.createElement('div');\n            colDiv3.className = 'col-md-2';\n            let p3 = document.createElement('p');\n            p3.className = 'col-content';\n            p3.innerHTML = item.registerDate.toLocaleString().slice(0, 10);\n            colDiv3.appendChild(p3);\n            rowDiv.appendChild(colDiv3);\n\n            //Add active status field\n            let colDiv4 = document.createElement('div');\n            colDiv4.className = 'col-md-1';\n            let p4 = document.createElement('p');\n            p4.className = 'col-content';\n            p4.innerHTML = item.isActive ? 'True' : 'False';\n            colDiv4.appendChild(p4);\n            rowDiv.appendChild(colDiv4);\n\n            //Add profile review link\n            let colDiv5 = document.createElement('div');\n            colDiv5.className = 'col-md-2';\n            let a1 = document.createElement('a');\n            a1.className = 'col-content';\n            a1.href = `/lib/profile/${item._id}`;\n            a1.innerHTML = 'Review Profile';\n            colDiv5.appendChild(a1);\n            rowDiv.appendChild(colDiv5);\n\n            //Add profile update link\n            let colDiv6 = document.createElement('div');\n            colDiv6.className = 'col-md-2';\n            let a2 = document.createElement('a');\n            a2.className = 'col-content';\n            a2.href = `/lib/update/${item._id}`;\n            a2.innerHTML = 'Update Profile';\n            colDiv6.appendChild(a2);\n            rowDiv.appendChild(colDiv6);\n\n            //Add account delete link for non-self or non-rootuser (Admin)\n            if (item.username !== adminName && item.username.toLowerCase() !== 'admin') {\n              let colDiv7 = document.createElement('div');\n              colDiv7.className = 'col-md-1';\n              let a3 = document.createElement('a');\n              a3.className = 'col-content delete-link';\n              a3.addEventListener('click', this.libDelete.bind(item._id));\n              a3.innerHTML = 'Delete';\n              colDiv7.appendChild(a3);\n              rowDiv.appendChild(colDiv7);\n            }\n          }\n          this.logger.info('Success generate admin account management block')\n        } else {\n          this.logger.warn('Can not find div.admin-block object in webpage');\n        }\n      }\n    });\n    //Get the librarian list from database, otherwise set with empty array\n    this.libAuthService.getAllLib().subscribe((data: []) => {\n      if (data && data.length > 0) {\n        libList = [].concat(data);\n\n        const libBlock = document.querySelector('div.lib-block');\n        if (libBlock) {\n          for (const item of libList) {\n            //Add new line for this librarian user\n            let rowDiv = document.createElement('div');\n            rowDiv.className = 'row';\n            libBlock.appendChild(rowDiv);\n\n            //Add librarian user id field\n            let colDiv1 = document.createElement('div');\n            colDiv1.className = 'col-md-2';\n            let p1 = document.createElement('p');\n            p1.className = 'col-content id';\n            p1.innerHTML = item._id;\n            colDiv1.appendChild(p1);\n            rowDiv.appendChild(colDiv1);\n\n            //Add librarian username field\n            let colDiv2 = document.createElement('div');\n            colDiv2.className = 'col-md-2';\n            let p2 = document.createElement('p');\n            p2.className = 'col-content';\n            p2.innerHTML = item.username;\n            colDiv2.appendChild(p2);\n            rowDiv.appendChild(colDiv2);\n\n            //Add librarian user create date field\n            let colDiv3 = document.createElement('div');\n            colDiv3.className = 'col-md-2';\n            let p3 = document.createElement('p');\n            p3.className = 'col-content';\n            p3.innerHTML = item.registerDate.toLocaleString().slice(0, 10);\n            colDiv3.appendChild(p3);\n            rowDiv.appendChild(colDiv3);\n\n            //Add librarian user active status field\n            let colDiv4 = document.createElement('div');\n            colDiv4.className = 'col-md-1';\n            let p4 = document.createElement('p');\n            p4.className = 'col-content status';\n            p4.innerHTML = item.isActive ? 'Active' : 'Inactive';\n            colDiv4.appendChild(p4);\n            rowDiv.appendChild(colDiv4);\n\n            //Add librarian profile review link \n            let colDiv5 = document.createElement('div');\n            colDiv5.className = 'col-md-2';\n            let a1 = document.createElement('a');\n            a1.className = 'col-content';\n            a1.href = `/lib/profile/${item._id}`;\n            a1.innerHTML = 'Review Profile';\n            colDiv5.appendChild(a1);\n            rowDiv.appendChild(colDiv5);\n\n            //Add librarian profile update link \n            let colDiv6 = document.createElement('div');\n            colDiv6.className = 'col-md-2';\n            let a2 = document.createElement('a');\n            a2.className = 'col-content';\n            a2.href = `/lib/update/${item._id}`;\n            a2.innerHTML = 'Update Profile';\n            colDiv6.appendChild(a2);\n            rowDiv.appendChild(colDiv6);\n\n            //Add librarian account delete link \n            let colDiv7 = document.createElement('div');\n            colDiv7.className = 'col-md-1';\n            let a3 = document.createElement('a');\n            a3.className = 'col-content delete-link';\n            a3.addEventListener(\"click\", this.libDelete);\n            a3.innerHTML = 'Delete';\n            colDiv7.appendChild(a3);\n            rowDiv.appendChild(colDiv7);\n\n          }\n          this.logger.info('Success generate librarian account management block')\n        } else {\n          this.logger.warn('Can not find div.lib-block object in webpage');\n        }\n      }\n    });\n  }\n\n  libDelete = () => {\n    if (window.confirm('Do you relly want to delete this account?')) {\n      const deleteLink = window.event.target as HTMLElement;\n      const libID = deleteLink.parentElement.parentElement.querySelector('p.id').innerHTML\n      //Invoke backend api to delete user from database, then update account status\n      this.libAuthService.deleteLib(libID).subscribe((data) => {\n        console.log(data);\n        if (data) {\n          deleteLink.parentElement.parentElement.querySelector('p.status').innerHTML = 'Deleted'\n          deleteLink.style.visibility = 'hidden';\n          this.logger.info(`Success delete the lib ${libID}`);\n        } else {\n          this.logger.warn('Server delete lib failed');\n        }\n      });\n    }\n  }\n\nngOnDestroy() {\n  const deleteLinks = document.querySelectorAll('a.delete-link');\n  if (deleteLinks && deleteLinks.length > 0) {\n    for (let i = 0; i < deleteLinks.length; i++) {\n      deleteLinks[i].replaceWith(deleteLinks[i].cloneNode(true));\n    }\n  }\n  this.logger.info('Success cleaned all eventListeners added by account-manage component');\n}\n\n\n}\n","<div class=\"container-fluid account-manage\">\n  <h2 class=\"title padding text-center\">Existing Admin & Librarian Account Management</h2>\n  <div class=\"admin-block\">\n    <h3 class=\"block-title padding\">Admin</h3>\n    <hr>\n    <div class=\"row\">\n      <div class=\"col-md-2\">\n        <p class=\"col-title\">ID</p>\n      </div>\n      <div class=\"col-md-2\">\n        <p class=\"col-title\">Username</p>\n      </div>\n      <div class=\"col-md-2\">\n        <p class=\"col-title\">Create Date</p>\n      </div>\n      <div class=\"col-md-1\">\n        <p class=\"col-title\">Status</p>\n      </div>\n      <div class=\"col-md-5\">\n        <p class=\"col-title\">Operation</p>\n      </div>\n    </div>\n    \n  </div>\n  <div class=\"lib-block\">\n    <h3 class=\"block-title padding\">Librarian</h3>\n    <hr>\n    <div class=\"row\">\n      <div class=\"col-md-2\">\n        <p class=\"col-title\">ID</p>\n      </div>\n      <div class=\"col-md-2\">\n        <p class=\"col-title\">Username</p>\n      </div>\n      <div class=\"col-md-2\">\n        <p class=\"col-title\">Create Date</p>\n      </div>\n      <div class=\"col-md-1\">\n        <p class=\"col-title\">Status</p>\n      </div>\n      <div class=\"col-md-5\">\n        <p class=\"col-title\">Operation</p>\n      </div>\n    </div>\n\n  </div>\n  <div class=\"home-link\">\n    <a class=\"btn btn-primary\" href=\"/lib/admin-portal\">Return Admin Portal</a>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-lib-profile',\n  templateUrl: './lib-profile.component.html',\n  styleUrls: ['./lib-profile.component.css']\n})\nexport class LibProfileComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>lib-profile works!</p>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LibRoutingModule } from './lib-routing.module';\nimport { LibrarianPortalComponent } from './librarian-portal/librarian-portal.component';\nimport { LibLoginComponent } from './lib-login/lib-login.component';\nimport { LibRegisterComponent } from './lib-register/lib-register.component';\nimport { LibUpdateComponent } from './lib-update/lib-update.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { LibrarianHeaderComponent } from './librarian-header/librarian-header.component';\nimport { AdminHeaderComponent } from './admin-header/admin-header.component';\nimport { LibProfileComponent } from './lib-profile/lib-profile.component';\nimport { ShareModule } from '../share/share.module';\nimport { AdminPortalComponent } from './admin-portal/admin-portal.component';\nimport { AccountManageComponent } from './account-manage/account-manage.component';\n\n@NgModule({\n  declarations: [\n    LibLoginComponent,\n    LibrarianPortalComponent,\n    LibrarianHeaderComponent,\n    AdminHeaderComponent,\n    AdminPortalComponent,\n    LibProfileComponent,\n    LibRegisterComponent,\n    LibUpdateComponent,\n    AccountManageComponent,\n  ],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    ShareModule,\n    LibRoutingModule,\n  ]\n})\nexport class LibModule { }\n"],"sourceRoot":"webpack:///"}